{"version":3,"sources":["component/FormContainer/ForgotPassForm/ForgotPassForm.js","component/FormContainer/FormContainer.js","component/FormContainer/FormContainer.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","component/Input/Input.js","component/Input/Input.module.css","component/FormContainer/ForgotPassForm/ForgotPassForm.module.css"],"names":["ForgotPassForm","useUser","loginData","handleForgotPassword","email","useInputData","useState","message","setMessage","succeed","setSucceed","history","useHistory","useEffect","timer","setTimeout","clearTimeout","label","className","classes","Message","style","color","loading","checkMail","text","classFromProps","isValid","ButtonOk","ButtonOkDisabled","onClick","e","a","preventDefault","value","response","marginBottom","ButtonCancel","push","FormContainer","props","Background","children","module","exports","_objectWithoutProperties","source","excluded","key","i","target","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","Input","type","error","rest","check","borderBottom","InputContainer","htmlFor","id","Tooltip","TooltipText","join"],"mappings":"sOAuFeA,UA5EQ,WAAM,MAGiBC,cAApCC,EAHmB,EAGnBA,UAAWC,EAHQ,EAGRA,qBAGbC,EAAQC,YAAa,SAAS,GANT,EASGC,mBAAS,MATZ,mBASpBC,EAToB,KASXC,EATW,OAYGF,oBAAS,GAZZ,mBAYpBG,EAZoB,KAYXC,EAZW,KAcrBC,EAAUC,cAahB,OAZAC,qBAAU,WACR,GAAIN,EAAS,CAEX,IAAMO,EAAQC,YAAW,WACvBP,EAAW,QACV,KACH,OAAO,WACLQ,aAAaF,OAGhB,CAACP,IAGF,kBAAC,IAAD,KACE,kBAAC,IAAD,iBAAWH,EAAX,CAAkBa,MAAO,WACzB,uBACEC,UAAWC,IAAQC,QACnBC,MAAO,CAAEC,MAAOb,EAAU,QAAU,QAGnCP,EAAUqB,QAAU,kBAAC,IAAD,MAAchB,GAGpCE,EAEC,uBAAGS,UAAWC,IAAQK,WAAtB,oBAGA,oCACE,kBAAC,IAAD,CACEC,KAAK,KACLC,eACEtB,EAAMuB,QAAUR,IAAQS,SAAWT,IAAQU,iBAE7CC,QAEE1B,EAAMuB,UAAYzB,EAAUqB,QAA5B,uCACI,WAAOQ,GAAP,eAAAC,EAAA,6DACED,EAAEE,iBADJ,SAEyB9B,EAAqBC,EAAM8B,OAFpD,OAEQC,EAFR,OAGEzB,EAAWyB,EAAS1B,SACpBD,EAAW2B,EAAS5B,SAJtB,2CADJ,sDAOI,SAACwB,GAAD,OAAOA,EAAEE,oBAGjB,wBAAIZ,MAAO,CAAEe,aAAc,UAC3B,kBAAC,IAAD,CACEX,KAAK,SACLC,eAAgBP,IAAQkB,aACxBP,QAAS,SAACC,GACRA,EAAEE,iBACFtB,EAAQ2B,KAAK,sB,gCC9E3B,qCAaeC,IATO,SAACC,GACrB,OACE,oCACE,yBAAKtB,UAAWC,IAAQsB,aACxB,0BAAMvB,UAAWC,IAAQoB,eAAgBC,EAAME,a,mBCPrDC,EAAOC,QAAU,CAAC,WAAa,kCAAkC,cAAgB,uC,gCCAlE,SAASC,EAAyBC,EAAQC,GACvD,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IACIE,EAAKC,EADLC,ECHS,SAAuCJ,EAAQC,GAC5D,GAAc,MAAVD,EAAgB,MAAO,GAC3B,IAEIE,EAAKC,EAFLC,EAAS,GACTC,EAAaC,OAAOC,KAAKP,GAG7B,IAAKG,EAAI,EAAGA,EAAIE,EAAWG,OAAQL,IACjCD,EAAMG,EAAWF,GACbF,EAASQ,QAAQP,IAAQ,IAC7BE,EAAOF,GAAOF,EAAOE,IAGvB,OAAOE,EDTM,CAA6BJ,EAAQC,GAGlD,GAAIK,OAAOI,sBAAuB,CAChC,IAAIC,EAAmBL,OAAOI,sBAAsBV,GAEpD,IAAKG,EAAI,EAAGA,EAAIQ,EAAiBH,OAAQL,IACvCD,EAAMS,EAAiBR,GACnBF,EAASQ,QAAQP,IAAQ,GACxBI,OAAOM,UAAUC,qBAAqBC,KAAKd,EAAQE,KACxDE,EAAOF,GAAOF,EAAOE,IAIzB,OAAOE,E,qCE8FMW,IA3GD,SAACrB,GAAU,IASfsB,EAAyCtB,EAAzCsB,KAAM7C,EAAmCuB,EAAnCvB,MAAOU,EAA4Ba,EAA5Bb,QAASoC,EAAmBvB,EAAnBuB,MAAUC,EATjB,EAS0BxB,EAT1B,oCAYnByB,EAAQ,GAOZ,QANgB,IAAZtC,EACFsC,EAAQ,CAAEC,aAAc,mBACH,IAAZvC,IACTsC,EAAQ,CAAEC,aAAc,kBAGlBJ,GACN,IAAK,QAGH,OACE,yBAAK5C,UAAWC,IAAQgD,gBACtB,2BAAOC,QAAQ,SAASnD,GACxB,2CACM+C,EADN,CAEEF,KAAMA,EACNO,GAAG,QACHnD,UAAWC,IAAQ0C,MACnBxC,MAAO4C,MAGI,IAAZtC,GACC,yBAAKT,UAAWC,IAAQmD,SAAxB,IACG,0BAAMpD,UAAWC,IAAQoD,aAAcR,EAAMS,KAAK,UAK7D,IAAK,SAGH,OACE,yBAAKtD,UAAWC,IAAQgD,gBACtB,2BAAOC,QAASnD,GAAQA,GACxB,2CACM+C,EADN,CAEEF,KAAM,OACNO,GAAIpD,EACJC,UAAWC,IAAQ0C,MACnBxC,MAAO4C,MAGI,IAAZtC,GACC,yBAAKT,UAAWC,IAAQmD,SAAxB,IACG,0BAAMpD,UAAWC,IAAQoD,aAAcR,EAAMS,KAAK,UAK7D,IAAK,WAGH,OACE,yBAAKtD,UAAWC,IAAQgD,gBACtB,2BAAOC,QAASnD,GAAQA,GACxB,2CACM+C,EADN,CAEEF,KAAMA,EACNO,GAAIpD,EACJC,UAAWC,IAAQ0C,MACnBxC,MAAO4C,MAGI,IAAZtC,GACC,yBAAKT,UAAWC,IAAQmD,SAAxB,IACG,0BAAMpD,UAAWC,IAAQoD,aAAcR,EAAMS,KAAK,UAK7D,QAGE,OACE,yBAAKtD,UAAWC,IAAQgD,gBACtB,2BAAOC,QAASnD,GAAQA,GACxB,yCACE6C,KAAK,QACDE,EAFN,CAGEK,GAAIpD,EACJC,UAAWC,IAAQ0C,MACnBxC,MAAO4C,MAGI,IAAZtC,GACC,yBAAKT,UAAWC,IAAQmD,SAAxB,IACG,0BAAMpD,UAAWC,IAAQoD,aAAcR,EAAMS,KAAK,a,mBCtGjE7B,EAAOC,QAAU,CAAC,eAAiB,8BAA8B,MAAQ,qBAAqB,QAAU,uBAAuB,YAAc,6B,mBCA7ID,EAAOC,QAAU,CAAC,QAAU,gCAAgC,UAAY,kCAAkC,SAAW,iCAAiC,iBAAmB,yCAAyC,aAAe","file":"static/js/5.59036981.chunk.js","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { useHistory } from \"react-router-dom\";\n\nimport { useUser } from \"../../../context/userContext\";\nimport { useInputData } from \"../../../utils/customHooks\";\nimport FormContainer from \"../FormContainer\";\nimport Button from \"../../Button/Button\";\nimport Spinner from \"../../UI/Spinner/Spinner\";\nimport Input from \"../../Input/Input\";\nimport classes from \"./ForgotPassForm.module.css\";\n\nconst ForgotPassForm = () => {\n  // customHook for user context:\n  // loginData returns ={name, email, token}\n  const { loginData, handleForgotPassword } = useUser();\n\n  // customHook useInputData returns: type, value, onChange handler, isValid and validation errors\n  const email = useInputData(\"email\", true); //second argument true for validation\n\n  // message state from fetch response\n  const [message, setMessage] = useState(null);\n\n  // email sent successfully\n  const [succeed, setSucceed] = useState(false);\n\n  const history = useHistory();\n  useEffect(() => {\n    if (message) {\n      // Clears message after 3 seconds\n      const timer = setTimeout(() => {\n        setMessage(null);\n      }, 3000);\n      return function () {\n        clearTimeout(timer);\n      };\n    }\n  }, [message]);\n\n  return (\n    <FormContainer>\n      <Input {...email} label={\"Email\"} />\n      <p\n        className={classes.Message}\n        style={{ color: succeed ? \"green\" : \"red\" }}\n      >\n        {/* if loading shows spinner, else shows message */}\n        {loginData.loading ? <Spinner /> : message}\n      </p>\n\n      {succeed ? (\n        // if succeeds, shows check mail message\n        <p className={classes.checkMail}>Check your mail!</p>\n      ) : (\n        // if fails, keep showing ok and cancel buttons\n        <>\n          <Button\n            text=\"Ok\"\n            classFromProps={\n              email.isValid ? classes.ButtonOk : classes.ButtonOkDisabled\n            }\n            onClick={\n              // allows on click when email input is a valid email and loading = false\n              email.isValid && !loginData.loading\n                ? async (e) => {\n                    e.preventDefault();\n                    const response = await handleForgotPassword(email.value);\n                    setSucceed(response.succeed);\n                    setMessage(response.message);\n                  }\n                : (e) => e.preventDefault()\n            }\n          />\n          <br style={{ marginBottom: \"3rem\" }} />\n          <Button\n            text=\"Cancel\"\n            classFromProps={classes.ButtonCancel}\n            onClick={(e) => {\n              e.preventDefault();\n              history.push(\"/auth/login\");\n            }}\n          />\n        </>\n      )}\n    </FormContainer>\n  );\n};\n\nexport default ForgotPassForm;\n","import React from \"react\";\n\nimport classes from \"./FormContainer.module.css\";\n\nconst FormContainer = (props) => {\n  return (\n    <>\n      <div className={classes.Background}></div>\n      <form className={classes.FormContainer}>{props.children}</form>\n    </>\n  );\n};\n\nexport default FormContainer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Background\":\"FormContainer_Background__2lPQo\",\"FormContainer\":\"FormContainer_FormContainer__1rPIB\"};","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from \"react\";\n\nimport classes from \"./Input.module.css\";\n\nconst Input = (props) => {\n  /*\nRecives:\n -tpye: input type\n -label : input label text\n -isValid: validation checked\n -error: array of validation errors\n -rest: input value and onChange handler\n*/\n  const { type, label, isValid, error, ...rest } = props;\n\n  // add style if recives isValid\n  let check = {};\n  if (isValid === true) {\n    check = { borderBottom: \"2px solid blue\" };\n  } else if (isValid === false) {\n    check = { borderBottom: \"2px solid red\" };\n  }\n\n  switch (type) {\n    case \"email\":\n      //Input type email\n\n      return (\n        <div className={classes.InputContainer}>\n          <label htmlFor=\"email\">{label}</label>\n          <input\n            {...rest} //spread value and onChange atributes\n            type={type}\n            id=\"email\"\n            className={classes.Input}\n            style={check}\n          />\n          {/* if isValid = false, shows (!) with tooltip */}\n          {isValid === false && (\n            <div className={classes.Tooltip}>\n              !<span className={classes.TooltipText}>{error.join(\".\\n\")}</span>\n            </div>\n          )}\n        </div>\n      );\n    case \"number\":\n      //Input type number\n\n      return (\n        <div className={classes.InputContainer}>\n          <label htmlFor={label}>{label}</label>\n          <input\n            {...rest} //spread value and onChange atributes\n            type={\"text\"}\n            id={label}\n            className={classes.Input}\n            style={check}\n          />\n          {/* if isValid = false, shows (!) with tooltip */}\n          {isValid === false && (\n            <div className={classes.Tooltip}>\n              !<span className={classes.TooltipText}>{error.join(\".\\n\")}</span>\n            </div>\n          )}\n        </div>\n      );\n    case \"password\":\n      //Input type password\n\n      return (\n        <div className={classes.InputContainer}>\n          <label htmlFor={label}>{label}</label>\n          <input\n            {...rest} //spread value and onChange atributes\n            type={type}\n            id={label}\n            className={classes.Input}\n            style={check}\n          />\n          {/* if isValid = false, shows (!) with tooltip */}\n          {isValid === false && (\n            <div className={classes.Tooltip}>\n              !<span className={classes.TooltipText}>{error.join(\".\\n\")}</span>\n            </div>\n          )}\n        </div>\n      );\n    default:\n      //Input type text\n\n      return (\n        <div className={classes.InputContainer}>\n          <label htmlFor={label}>{label}</label>\n          <input\n            type=\"text\"\n            {...rest} //spread value and onChange atributes\n            id={label}\n            className={classes.Input}\n            style={check}\n          />\n          {/* if isValid = false, shows (!) with tooltip */}\n          {isValid === false && (\n            <div className={classes.Tooltip}>\n              !<span className={classes.TooltipText}>{error.join(\".\\n\")}</span>\n            </div>\n          )}\n        </div>\n      );\n  }\n};\n\nexport default Input;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InputContainer\":\"Input_InputContainer__3-grW\",\"Input\":\"Input_Input__bZUEZ\",\"Tooltip\":\"Input_Tooltip__1uJvh\",\"TooltipText\":\"Input_TooltipText__1VF9Q\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Message\":\"ForgotPassForm_Message__PXHtd\",\"checkMail\":\"ForgotPassForm_checkMail__1TflG\",\"ButtonOk\":\"ForgotPassForm_ButtonOk__3A6sj\",\"ButtonOkDisabled\":\"ForgotPassForm_ButtonOkDisabled__XFDO_\",\"ButtonCancel\":\"ForgotPassForm_ButtonCancel__2AHA8\"};"],"sourceRoot":""}