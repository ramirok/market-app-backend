(this.webpackJsonpecomerce=this.webpackJsonpecomerce||[]).push([[3],{100:function(e,t,a){e.exports={Head:"AccountSecurity_Head__R2Rho",Container:"AccountSecurity_Container__3MYu3",Section:"AccountSecurity_Section__3AQj7",Title:"AccountSecurity_Title__3yRtl",ButtonEdit:"AccountSecurity_ButtonEdit__1t7_G",ButtonOk:"AccountSecurity_ButtonOk__Ka0V7",ButtonsContainer:"AccountSecurity_ButtonsContainer__2Qkiy",Button:"AccountSecurity_Button__1rdBK",Message:"AccountSecurity_Message__3khcw",PersonalInfoContainer:"AccountSecurity_PersonalInfoContainer__1PtzP",AddressContainer:"AccountSecurity_AddressContainer__1ECHk",Text:"AccountSecurity_Text__2yJe1"}},117:function(e,t,a){"use strict";a.r(t);var n=a(2),r=a.n(n),l=a(4),c=a(6),s=a(1),o=a(0),i=a.n(o),m=a(5),u=a(10),d=a(3),b=a(9),p=a(29),E=a(14),g=a(7),O=a(90),f=a(98),j=a.n(f),_=function(e){var t=e.setEditable,a=e.placeholders,n=Object(u.b)().loginData,m=Object(o.useState)({loading:!1,message:null}),b=Object(s.a)(m,2),f=b[0],_=b[1],y=Object(g.b)("name",!0),v=Object(g.b)("number",!0);return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{text:"ok",classFromProps:j.a.ButtonOk,onClick:f.loading?null:Object(l.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return _((function(e){return Object(c.a)(Object(c.a)({},e),{},{loading:!0})})),e.next=3,Object(d.a)("put","users/user-details",n.token,{fullName:y.value,phoneNumber:v.value});case 3:if(!(a=e.sent).ok){e.next=6;break}return e.abrupt("return",t((function(e){return Object(c.a)(Object(c.a)({},e),{},{personalInfo:!1,newFetch:!0})})));case 6:_({loading:!1,message:a.message});case 7:case"end":return e.stop()}}),e)})))}),i.a.createElement(O.a,Object.assign({},y,{label:"Full Name:",placeholder:a.fullName})),i.a.createElement("br",{style:{marginBottom:"3rem"}}),i.a.createElement(O.a,Object.assign({},v,{label:"Phone Number:",placeholder:a.phoneNumber})),i.a.createElement("br",{style:{marginBottom:"3rem"}}),i.a.createElement("p",{className:j.a.Message,style:{color:f.succeed?"green":"red"}},f.loading?i.a.createElement(E.a,null):f.message))},y=a(99),v=a.n(y),h=function(e){var t=e.setEditable,a=e.placeholders,n=Object(u.b)().loginData,m=Object(o.useState)({loading:!1,message:null}),b=Object(s.a)(m,2),f=b[0],j=b[1],_=Object(g.b)("name"),y=Object(g.b)("name"),h=Object(g.b)("number",!0),N=Object(g.b)("name"),k=Object(g.b)("number",!0);return i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{text:"ok",classFromProps:v.a.ButtonOk,onClick:f.loading?null:Object(l.a)(r.a.mark((function e(){var a;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return j({loading:!0}),e.next=3,Object(d.a)("put","users/user-details",n.token,{state:_.value,city:y.value,zipCode:h.value,street:N.value,streetNumber:k.value});case 3:if(!(a=e.sent).ok){e.next=6;break}return e.abrupt("return",t((function(e){return Object(c.a)(Object(c.a)({},e),{},{address:!1,newFetch:!0})})));case 6:j({loading:!1,message:a.message});case 7:case"end":return e.stop()}}),e)})))}),i.a.createElement(O.a,Object.assign({},_,{label:"State:",placeholder:a.state})),i.a.createElement("br",{style:{marginBottom:"3rem"}}),i.a.createElement(O.a,Object.assign({},y,{label:"City:",placeholder:a.city})),i.a.createElement("br",{style:{marginBottom:"3rem"}}),i.a.createElement(O.a,Object.assign({},h,{label:"Zip Code:",placeholder:a.zipCode})),i.a.createElement("br",{style:{marginBottom:"3rem"}}),i.a.createElement(O.a,Object.assign({},N,{label:"Street:",placeholder:a.street})),i.a.createElement("br",{style:{marginBottom:"3rem"}}),i.a.createElement(O.a,Object.assign({},k,{label:"Street Number:",placeholder:a.streetNumber})),i.a.createElement("br",{style:{marginBottom:"3rem"}}),i.a.createElement("p",{className:v.a.Message,style:{color:"red"}},f.loading?i.a.createElement(E.a,null):f.message))},N=a(21),k=a(100),x=a.n(k);t.default=function(){var e=Object(u.b)(),t=e.loginData,a=e.handleLogoutAll,n=Object(o.useState)({succeed:!1,message:null,loading:!1}),g=Object(s.a)(n,2),O=g[0],f=g[1],j=Object(o.useState)({personalInfo:!1,address:!1,newFetch:!0,loading:!1}),y=Object(s.a)(j,2),v=y[0],k=y[1],B=Object(o.useState)({info:{},address:{}}),C=Object(s.a)(B,2),F=C[0],T=C[1],S=Object(o.useState)(!0),I=Object(s.a)(S,2),w=I[0],A=I[1],P=Object(m.g)();Object(o.useEffect)((function(){v.newFetch&&(k((function(e){return Object(c.a)(Object(c.a)({},e),{},{loading:!0})})),t.token&&Object(d.a)("get","users/user-details",t.token).then((function(e){T({info:e.info,address:e.address}),k({newFetch:!1,personalInfo:!e.infoCompleted,address:!e.addressCompleted,loading:!1}),A(!1)})))}),[t.token,v.newFetch]),Object(o.useEffect)((function(){if(O.message){var e=setTimeout((function(){f({succeed:!1,message:null})}),3e3);return function(){clearTimeout(e)}}}),[O.message]);var M=[];for(var D in F.info)M.push(i.a.createElement(i.a.Fragment,{key:D},i.a.createElement("div",null,i.a.createElement("p",null,Object(b.a)(D),":"),i.a.createElement("p",{className:x.a.Text},v.loading?i.a.createElement(N.a,null):F.info[D])),i.a.createElement("br",{style:{marginBottom:"3rem"}})));var R=[];for(var H in F.address)R.push(i.a.createElement(i.a.Fragment,{key:H},i.a.createElement("div",null,i.a.createElement("p",null,Object(b.a)(H),":"),i.a.createElement("p",{className:x.a.Text},v.loading?i.a.createElement(N.a,null):F.address[H])),i.a.createElement("br",{style:{marginBottom:"3rem"}})));return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:x.a.Head}),i.a.createElement("div",{className:x.a.Container},i.a.createElement("div",{className:x.a.Section},i.a.createElement("h3",{className:x.a.Title},"Personal Data"),i.a.createElement("div",{className:x.a.PersonalInfoContainer},w?i.a.createElement("div",{style:{margin:"auto"}},i.a.createElement(E.a,null)):v.personalInfo?i.a.createElement(_,{placeholders:Object(c.a)({},F.info),setEditable:k}):i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{text:"edit",classFromProps:x.a.ButtonEdit,onClick:function(){k((function(e){return Object(c.a)(Object(c.a)({},e),{},{personalInfo:!0})}))}}),M,i.a.createElement("div",null,i.a.createElement("p",null,"Email:"),i.a.createElement("p",{className:x.a.Text},v.loading?i.a.createElement(N.a,null):t.email))))),i.a.createElement("div",{className:x.a.Section},i.a.createElement("h3",{className:x.a.Title},"Address Data"),i.a.createElement("div",{className:x.a.AddressContainer},w?i.a.createElement("div",{style:{margin:"auto"}},i.a.createElement(E.a,null)):v.address?i.a.createElement(h,{placeholders:Object(c.a)({},F.address),setEditable:k}):i.a.createElement(i.a.Fragment,null,i.a.createElement(p.a,{text:"edit",classFromProps:x.a.ButtonEdit,onClick:function(){k((function(e){return Object(c.a)(Object(c.a)({},e),{},{address:!0})}))}}),R,i.a.createElement("span",{style:{marginBottom:"3.5rem"}})))),i.a.createElement("div",{className:x.a.Section},i.a.createElement("h3",{className:x.a.Title},"Security"),i.a.createElement("div",{className:x.a.ButtonsContainer},i.a.createElement("div",{style:{height:"min-content"}},i.a.createElement(p.a,{text:"Logout from other devices",classFromProps:x.a.Button,onClick:O.loading?null:Object(l.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return f((function(e){return Object(c.a)(Object(c.a)({},e),{},{loading:!0})})),e.next=3,a();case 3:t=e.sent,f({succeed:t.succeed,message:t.message,loading:!1});case 5:case"end":return e.stop()}}),e)})))}),i.a.createElement("p",{className:x.a.Message,style:{color:O.succeed?"green":"red"}},O.loading?i.a.createElement(E.a,null):O.message)),i.a.createElement(p.a,{text:"Change password",classFromProps:x.a.Button,onClick:function(){P.push("/app/security/change")}})))))}},90:function(e,t,a){"use strict";function n(e,t){if(null==e)return{};var a,n,r=function(e,t){if(null==e)return{};var a,n,r={},l=Object.keys(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||(r[a]=e[a]);return r}(e,t);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(e);for(n=0;n<l.length;n++)a=l[n],t.indexOf(a)>=0||Object.prototype.propertyIsEnumerable.call(e,a)&&(r[a]=e[a])}return r}var r=a(0),l=a.n(r),c=a(91),s=a.n(c);t.a=function(e){var t=e.type,a=e.label,r=e.isValid,c=e.error,o=n(e,["type","label","isValid","error"]),i={};switch(!0===r?i={borderBottom:"2px solid blue"}:!1===r&&(i={borderBottom:"2px solid red"}),t){case"email":return l.a.createElement("div",{className:s.a.InputContainer},l.a.createElement("label",{htmlFor:"email"},a),l.a.createElement("input",Object.assign({},o,{type:t,id:"email",className:s.a.Input,style:i})),!1===r&&l.a.createElement("div",{className:s.a.Tooltip},"!",l.a.createElement("span",{className:s.a.TooltipText},c.join(".\n"))));case"number":return l.a.createElement("div",{className:s.a.InputContainer},l.a.createElement("label",{htmlFor:a},a),l.a.createElement("input",Object.assign({},o,{type:"text",id:a,className:s.a.Input,style:i})),!1===r&&l.a.createElement("div",{className:s.a.Tooltip},"!",l.a.createElement("span",{className:s.a.TooltipText},c.join(".\n"))));case"password":return l.a.createElement("div",{className:s.a.InputContainer},l.a.createElement("label",{htmlFor:a},a),l.a.createElement("input",Object.assign({},o,{type:t,id:a,className:s.a.Input,style:i})),!1===r&&l.a.createElement("div",{className:s.a.Tooltip},"!",l.a.createElement("span",{className:s.a.TooltipText},c.join(".\n"))));default:return l.a.createElement("div",{className:s.a.InputContainer},l.a.createElement("label",{htmlFor:a},a),l.a.createElement("input",Object.assign({type:"text"},o,{id:a,className:s.a.Input,style:i})),!1===r&&l.a.createElement("div",{className:s.a.Tooltip},"!",l.a.createElement("span",{className:s.a.TooltipText},c.join(".\n"))))}}},91:function(e,t,a){e.exports={InputContainer:"Input_InputContainer__3-grW",Input:"Input_Input__bZUEZ",Tooltip:"Input_Tooltip__1uJvh",TooltipText:"Input_TooltipText__1VF9Q"}},98:function(e,t,a){e.exports={Message:"PersonalInfoForm_Message__26Rgw",ButtonOk:"PersonalInfoForm_ButtonOk__39O1e"}},99:function(e,t,a){e.exports={Message:"AddressForm_Message__1OF2m",ButtonOk:"AddressForm_ButtonOk__2spyR"}}}]);
//# sourceMappingURL=3.bcbd15aa.chunk.js.map