{"version":3,"sources":["component/FormContainer/ChangePassForm/ChangePassForm.module.css","component/FormContainer/ChangePassForm/ChangePassForm.js","component/FormContainer/FormContainer.js","component/FormContainer/FormContainer.module.css","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","component/Input/Input.js","component/Input/Input.module.css"],"names":["module","exports","ChangePassForm","useUser","loginData","handleChangePassword","handleForgotPassword","useState","succeed","setSucceed","message","setMessage","checkMail","setCheckMail","currentPass","useInputData","password","passwordConfirmation","value","useEffect","timer","setTimeout","clearTimeout","label","style","marginBottom","className","classes","Message","color","loading","text","classFromProps","isValid","ButtonOk","ButtonDisabled","onClick","e","a","preventDefault","response","onChange","target","ButtonForgot","email","FormContainer","props","Background","children","_objectWithoutProperties","source","excluded","key","i","sourceKeys","Object","keys","length","indexOf","getOwnPropertySymbols","sourceSymbolKeys","prototype","propertyIsEnumerable","call","Input","type","error","rest","check","borderBottom","InputContainer","htmlFor","id","Tooltip","TooltipText","join"],"mappings":"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","file":"static/js/4.d6a53c67.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"Message\":\"ChangePassForm_Message__1o4Jw\",\"ButtonOk\":\"ChangePassForm_ButtonOk__2mNDy\",\"ButtonDisabled\":\"ChangePassForm_ButtonDisabled__38qT8\",\"ButtonCancel\":\"ChangePassForm_ButtonCancel__2FICP\",\"ButtonForgot\":\"ChangePassForm_ButtonForgot__1l-3v\",\"checkMail\":\"ChangePassForm_checkMail__trZFb\"};","import React, { useState, useEffect } from \"react\";\n\nimport { useUser } from \"../../../context/userContext\";\nimport { useInputData } from \"../../../utils/customHooks\";\nimport FormContainer from \"../FormContainer\";\nimport Input from \"../../Input/Input\";\nimport Button from \"../../Button/Button\";\nimport Spinner from \"../../UI/Spinner/Spinner\";\nimport classes from \"./ChangePassForm.module.css\";\n\nconst ChangePassForm = () => {\n  // customHook for user context:\n  // loginData returns ={name, email, token}\n  const { loginData, handleChangePassword, handleForgotPassword } = useUser();\n\n  // succeed status for message\n  const [succeed, setSucceed] = useState(false);\n\n  // message state from fetch response\n  const [message, setMessage] = useState(null);\n\n  //\n  const [checkMail, setCheckMail] = useState(false);\n\n  // customHook useInputData returns: type, value, onChange handler, isValid and validation errors\n  const currentPass = useInputData(\"password\");\n  const password = useInputData(\"password\", true); //second argument true for validation\n  const passwordConfirmation = useInputData(\"password\", true, password.value); //second argument true for validation\n\n  useEffect(() => {\n    if (message) {\n      // clears message after 3 seconds\n      const timer = setTimeout(() => {\n        setMessage(null);\n      }, 3000);\n      return function () {\n        clearTimeout(timer);\n      };\n    }\n  }, [message]);\n\n  return (\n    <FormContainer>\n      <Input {...currentPass} label=\"Current password.\" />\n      <br style={{ marginBottom: \"3rem\" }} />\n      <Input {...password} label=\"New password.\" />\n      <br style={{ marginBottom: \"3rem\" }} />\n      <Input {...passwordConfirmation} label=\"Confirm new password.\" />\n\n      {/* message */}\n      <p\n        className={classes.Message}\n        style={{ color: succeed ? \"green\" : \"red\" }}\n      >\n        {loginData.loading ? <Spinner /> : message}\n      </p>\n\n      <Button\n        text=\"Ok\"\n        classFromProps={\n          password.isValid &&\n          passwordConfirmation.isValid &&\n          currentPass.value &&\n          !loginData.loading\n            ? classes.ButtonOk\n            : classes.ButtonDisabled\n        }\n        onClick={\n          // allows on click if password, passwordConfirmation = true, current password has value and loading = false\n          password.isValid &&\n          passwordConfirmation.isValid &&\n          currentPass.value &&\n          !loginData.loading\n            ? async (e) => {\n                e.preventDefault();\n                const response = await handleChangePassword({\n                  currentPass: currentPass.value,\n                  password: password.value,\n                  passwordConfirmation: passwordConfirmation.value,\n                });\n                setSucceed(response.succeed);\n                setMessage(response.message);\n                if (response.succeed) {\n                  currentPass.onChange({ target: { value: \"\" } });\n                  password.onChange({ target: { value: \"\" } });\n                  passwordConfirmation.onChange({ target: { value: \"\" } });\n                }\n              }\n            : (e) => e.preventDefault()\n        }\n      />\n      <br style={{ marginBottom: \"3rem\" }} />\n\n      {/* if message check mail if reset pass link sent successfully */}\n      {checkMail ? (\n        <p className={classes.checkMail}>Check your mail!</p>\n      ) : (\n        <Button\n          text=\"I don't know my password\"\n          classFromProps={classes.ButtonForgot}\n          onClick={async (e) => {\n            e.preventDefault();\n            const response = await handleForgotPassword(loginData.email);\n            setSucceed(response.succeed);\n            setCheckMail(true);\n            setMessage(response.message);\n          }}\n        />\n      )}\n    </FormContainer>\n  );\n};\n\nexport default ChangePassForm;\n","import React from \"react\";\n\nimport classes from \"./FormContainer.module.css\";\n\nconst FormContainer = (props) => {\n  return (\n    <>\n      <div className={classes.Background}></div>\n      <form className={classes.FormContainer}>{props.children}</form>\n    </>\n  );\n};\n\nexport default FormContainer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Background\":\"FormContainer_Background__2lPQo\",\"FormContainer\":\"FormContainer_FormContainer__1rPIB\"};","import objectWithoutPropertiesLoose from \"./objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import React from \"react\";\n\nimport classes from \"./Input.module.css\";\n\nconst Input = (props) => {\n  /*\nRecives:\n -tpye: input type\n -label : input label text\n -isValid: validation checked\n -error: array of validation errors\n -rest: input value and onChange handler\n*/\n  const { type, label, isValid, error, ...rest } = props;\n\n  // add style if recives isValid\n  let check = {};\n  if (isValid === true) {\n    check = { borderBottom: \"2px solid blue\" };\n  } else if (isValid === false) {\n    check = { borderBottom: \"2px solid red\" };\n  }\n\n  switch (type) {\n    case \"email\":\n      //Input type email\n\n      return (\n        <div className={classes.InputContainer}>\n          <label htmlFor=\"email\">{label}</label>\n          <input\n            {...rest} //spread value and onChange atributes\n            type={type}\n            id=\"email\"\n            className={classes.Input}\n            style={check}\n          />\n          {/* if isValid = false, shows (!) with tooltip */}\n          {isValid === false && (\n            <div className={classes.Tooltip}>\n              !<span className={classes.TooltipText}>{error.join(\".\\n\")}</span>\n            </div>\n          )}\n        </div>\n      );\n    case \"number\":\n      //Input type number\n\n      return (\n        <div className={classes.InputContainer}>\n          <label htmlFor={label}>{label}</label>\n          <input\n            {...rest} //spread value and onChange atributes\n            type={\"text\"}\n            id={label}\n            className={classes.Input}\n            style={check}\n          />\n          {/* if isValid = false, shows (!) with tooltip */}\n          {isValid === false && (\n            <div className={classes.Tooltip}>\n              !<span className={classes.TooltipText}>{error.join(\".\\n\")}</span>\n            </div>\n          )}\n        </div>\n      );\n    case \"password\":\n      //Input type password\n\n      return (\n        <div className={classes.InputContainer}>\n          <label htmlFor={label}>{label}</label>\n          <input\n            {...rest} //spread value and onChange atributes\n            type={type}\n            id={label}\n            className={classes.Input}\n            style={check}\n          />\n          {/* if isValid = false, shows (!) with tooltip */}\n          {isValid === false && (\n            <div className={classes.Tooltip}>\n              !<span className={classes.TooltipText}>{error.join(\".\\n\")}</span>\n            </div>\n          )}\n        </div>\n      );\n    default:\n      //Input type text\n\n      return (\n        <div className={classes.InputContainer}>\n          <label htmlFor={label}>{label}</label>\n          <input\n            type=\"text\"\n            {...rest} //spread value and onChange atributes\n            id={label}\n            className={classes.Input}\n            style={check}\n          />\n          {/* if isValid = false, shows (!) with tooltip */}\n          {isValid === false && (\n            <div className={classes.Tooltip}>\n              !<span className={classes.TooltipText}>{error.join(\".\\n\")}</span>\n            </div>\n          )}\n        </div>\n      );\n  }\n};\n\nexport default Input;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"InputContainer\":\"Input_InputContainer__3-grW\",\"Input\":\"Input_Input__bZUEZ\",\"Tooltip\":\"Input_Tooltip__1uJvh\",\"TooltipText\":\"Input_TooltipText__1VF9Q\"};"],"sourceRoot":""}