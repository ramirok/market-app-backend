(this.webpackJsonpecomerce=this.webpackJsonpecomerce||[]).push([[13],{101:function(e,t,a){e.exports={Container:"CartCard_Container__wlIIh",ImageContainer:"CartCard_ImageContainer__1kVoV",Image:"CartCard_Image__1oueZ",InfoContainer:"CartCard_InfoContainer__J3_3s",ButtonsContainer:"CartCard_ButtonsContainer__1eo3o",Input:"CartCard_Input__2z1v_",ButtonOk:"CartCard_ButtonOk__2y3Ia",ButtonAdd:"CartCard_ButtonAdd__1aIqy",ButtonRemove:"CartCard_ButtonRemove__17GRf",PriceAndDelete:"CartCard_PriceAndDelete__2LgU9",Price:"CartCard_Price__1AzED",ButtonDel:"CartCard_ButtonDel__I0cMw"}},102:function(e,t,a){e.exports={Head:"ShoppingCart_Head__3eq0D",Container:"ShoppingCart_Container__1UJev",SpinnerContainer:"ShoppingCart_SpinnerContainer__19yyP",TotalPriceContainer:"ShoppingCart_TotalPriceContainer__2vdrP",EmptyCart:"ShoppingCart_EmptyCart__66KYI",Price:"ShoppingCart_Price__XgF82",ButtonCheckout:"ShoppingCart_ButtonCheckout__28EdD"}},118:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a(0),c=a.n(r),o=a(5),u=a(17),i=a(2),l=a.n(i),s=a(4),m=a(9),p=a(10),d=a(29),C=a(14),_=a(101),f=a.n(_),v=function(e){var t=e.name,a=e.img,o=e.description,u=e.price,i=e.id,_=e.quantity,v=e.addProductHandler,E=e.delProductHandler,k=Object(p.b)().loginData,b=Object(r.useState)(!1),g=Object(n.a)(b,2),x=g[0],h=g[1],P=Object(r.useState)(_),I=Object(n.a)(P,2),O=I[0],j=I[1];Object(r.useEffect)((function(){j(_)}),[_]);var y=function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),h(!0),a=t.target.userInput.value-_,!(parseInt(t.target.userInput.value)<=0)){e.next=8;break}return e.next=6,E(i,k.token);case 6:e.next=10;break;case 8:return e.next=10,v(i,a,k.token);case 10:h(!1);case 11:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),B=function(){var e=Object(s.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(h(!0),a=t-_,!(parseInt(t)<=0)){e.next=7;break}return e.next=5,E(i,k.token);case 5:e.next=9;break;case 7:return e.next=9,v(i,a,k.token);case 9:h(!1);case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return c.a.createElement("div",{className:f.a.Container},c.a.createElement("div",{style:{position:"absolute",right:"1rem",top:"1rem"}},x&&c.a.createElement(C.a,{small:!0})),c.a.createElement("div",{style:{display:"flex",flexGrow:"1"}},c.a.createElement("div",{className:f.a.ImageContainer},c.a.createElement("img",{src:"/".concat(a),alt:t,className:f.a.Image})),c.a.createElement("div",{className:f.a.InfoContainer},Object(m.a)(t),a.includes("vegetables")||a.includes("fruits")?" x kg":a.includes("spices")?" x 100g":null,c.a.createElement("p",null,o))),c.a.createElement("div",{className:f.a.ButtonsContainer},c.a.createElement(d.a,{text:"-",classFromProps:f.a.ButtonRemove,onClick:x?null:_>1?Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,v(i,-1,k.token);case 3:h(!1);case 4:case"end":return e.stop()}}),e)}))):Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,E(i,k.token);case 3:case"end":return e.stop()}}),e)})))}),c.a.createElement("form",{onSubmit:y},c.a.createElement("input",{type:"number",name:"userInput",min:"0",className:f.a.Input,value:O,onChange:function(e){j(e.target.value)}})),c.a.createElement(d.a,{text:"+",classFromProps:f.a.ButtonAdd,onClick:x?null:Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,v(i,1,k.token);case 3:h(!1);case 4:case"end":return e.stop()}}),e)})))}),_!==O&&c.a.createElement("span",{className:f.a.ButtonOk,onClick:function(){return B(O)}},"\u2713")),c.a.createElement("div",{className:f.a.PriceAndDelete},c.a.createElement("div",{className:f.a.Price},c.a.createElement("p",{style:{color:"#888888",fontSize:"1.5rem"}},"$ ".concat(u," x ").concat(_)),c.a.createElement("p",null,"$ ",(u*_).toFixed(2))),c.a.createElement(d.a,{text:"X",classFromProps:f.a.ButtonDel,onClick:x?null:Object(s.a)(l.a.mark((function e(){return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.next=3,E(i,k.token);case 3:case"end":return e.stop()}}),e)})))})))},E=a(102),k=a.n(E);t.default=function(){var e=Object(u.b)(),t=e.cartItems,a=e.loaded,i=e.addProductHandler,l=e.delProductHandler,s=Object(r.useState)(!0),m=Object(n.a)(s,2),p=m[0],_=m[1],f=Object(r.useState)(null),E=Object(n.a)(f,2),b=E[0],g=E[1];Object(r.useEffect)((function(){a&&(t.length>0?(g(t.map((function(e){return e.price*e.quantity})).reduce((function(e,t){return e+t}))),_(!1)):(g(null),_(!1)))}),[t,a]);var x=Object(o.g)();return c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:k.a.Head}),c.a.createElement("div",{className:k.a.Container},p?c.a.createElement("div",{className:k.a.SpinnerContainer},c.a.createElement(C.a,null)):c.a.createElement(c.a.Fragment,null,t.map((function(e){return c.a.createElement(v,Object.assign({key:e.name},e,{addProductHandler:i,delProductHandler:l}))})),b?c.a.createElement("div",{className:k.a.TotalPriceContainer},c.a.createElement("p",null,"Total"),c.a.createElement("p",{className:k.a.Price},"$ ".concat(b.toFixed(2))),c.a.createElement(d.a,{text:"Proced to checkout",classFromProps:k.a.ButtonCheckout,onClick:function(){return x.push("/app/checkout")}})):c.a.createElement("div",{className:k.a.EmptyCart},c.a.createElement("p",null,"Your cart is empty")))))}}}]);
//# sourceMappingURL=13.47fe1f93.chunk.js.map