{"version":3,"sources":["component/FormContainer/ActivateForm/ActivateForm.js","component/FormContainer/FormContainer.js","component/FormContainer/FormContainer.module.css","component/FormContainer/ActivateForm/ActivateForm.module.css"],"names":["ActivateForm","token","useParams","history","useHistory","useState","message","setMessage","loading","setLoading","succeed","setSucceed","useEffect","fetchService","then","response","ok","succeedButton","text","classFromProps","classes","Button","onClick","push","className","Failed","Message","style","color","FormContainer","props","Background","children","module","exports"],"mappings":"+LAmEeA,UA1DM,WAAM,IAEjBC,EAAUC,cAAVD,MAEFE,EAAUC,cAJS,EAOKC,mBAAS,MAPd,mBAOlBC,EAPkB,KAOTC,EAPS,OAUKF,oBAAS,GAVd,mBAUlBG,EAVkB,KAUTC,EAVS,OAaKJ,oBAAS,GAbd,mBAalBK,EAbkB,KAaTC,EAbS,KAezBC,qBAAU,WAERC,YAAa,OAAQ,iBAAkB,KAAM,CAAEZ,UAASa,MAAK,SAACC,GAC5DJ,EAAWI,EAASC,IACpBT,EAAWQ,EAAST,SACpBG,GAAW,QAEZ,CAACR,IAEJ,IAAMgB,EAAgBP,EAEpB,kBAAC,IAAD,CACEQ,KAAK,kBACLC,eAAgBC,IAAQC,OACxBC,QAAS,kBAAMnB,EAAQoB,KAAK,kBAI9B,uBAAGC,UAAWJ,IAAQK,QAAtB,qBAGF,OACE,kBAAC,IAAD,KAEGjB,EACC,kBAAC,IAAD,MAEA,oCACE,uBACEgB,UAAWJ,IAAQM,QACnBC,MAAO,CACLC,MAAOlB,EAAU,QAAU,QAG5BJ,GAEFW,M,gCC5DX,qCAaeY,IATO,SAACC,GACrB,OACE,oCACE,yBAAKN,UAAWJ,IAAQW,aACxB,0BAAMP,UAAWJ,IAAQS,eAAgBC,EAAME,a,mBCPrDC,EAAOC,QAAU,CAAC,WAAa,kCAAkC,cAAgB,uC,mBCAjFD,EAAOC,QAAU,CAAC,QAAU,8BAA8B,OAAS,6BAA6B,OAAS","file":"static/js/9.f0de25c1.chunk.js","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { useParams, useHistory } from \"react-router-dom\";\n\nimport { fetchService } from \"../../../utils/fetchServices\";\nimport FormContainer from \"../FormContainer\";\nimport Button from \"../../Button/Button\";\nimport Spinner from \"../../UI/Spinner/Spinner\";\nimport classes from \"./ActivateForm.module.css\";\n\nconst ActivateForm = () => {\n  // get token from url param\n  const { token } = useParams();\n\n  const history = useHistory();\n\n  // message state from fetch response\n  const [message, setMessage] = useState(null);\n\n  // loading state for spinner\n  const [loading, setLoading] = useState(true);\n\n  // account activation succeed\n  const [succeed, setSucceed] = useState(false);\n\n  useEffect(() => {\n    // send token for account activation\n    fetchService(\"post\", \"users/activate\", null, { token }).then((response) => {\n      setSucceed(response.ok);\n      setMessage(response.message);\n      setLoading(false);\n    });\n  }, [token]);\n\n  const succeedButton = succeed ? (\n    // shows login button if activation succeeds\n    <Button\n      text=\"Switch to login\"\n      classFromProps={classes.Button}\n      onClick={() => history.push(\"/auth/login\")}\n    />\n  ) : (\n    // show try again message if activation fails\n    <p className={classes.Failed}>Please try again!</p>\n  );\n\n  return (\n    <FormContainer>\n      {/* shows spinner if loading = true */}\n      {loading ? (\n        <Spinner />\n      ) : (\n        <>\n          <p\n            className={classes.Message}\n            style={{\n              color: succeed ? \"green\" : \"red\",\n            }}\n          >\n            {message}\n          </p>\n          {succeedButton}\n        </>\n      )}\n    </FormContainer>\n  );\n};\n\nexport default ActivateForm;\n","import React from \"react\";\n\nimport classes from \"./FormContainer.module.css\";\n\nconst FormContainer = (props) => {\n  return (\n    <>\n      <div className={classes.Background}></div>\n      <form className={classes.FormContainer}>{props.children}</form>\n    </>\n  );\n};\n\nexport default FormContainer;\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Background\":\"FormContainer_Background__2lPQo\",\"FormContainer\":\"FormContainer_FormContainer__1rPIB\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Message\":\"ActivateForm_Message__nnCYM\",\"Button\":\"ActivateForm_Button__3x7eA\",\"Failed\":\"ActivateForm_Failed__3ZEVl\"};"],"sourceRoot":""}